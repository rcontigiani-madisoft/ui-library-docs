import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as o}from"./index-DatCARk7.js";import{d as F}from"./styled-components.browser.esm-DD6bt04G.js";import{f as W,b as x}from"./date-DLO9q3mC.js";import"./string-BWSckzgf.js";import{E as N,a as P}from"./DateSelectionWidget-Ab6J6qq0.js";import{D as T}from"./DateRangePicker-zBPP5Ep6.js";import{R as V}from"./Flex-DwwaOy33.js";import{F as z}from"./calendar-empty-V1By7M1a.js";import{p as I}from"./MonthSelectionWidget-D8nJJ0Zg.js";import"./Button-bb1s2N95.js";import"./isNewDesignEnabled-CECVVFcR.js";import"./Icon-BDJ5phNo.js";import"./DatePicker-Y5pd1jpE.js";import"./style-Cr4l-9xb.js";import"./strings-Bn8L0l--.js";import"./DateHandle-BqCLvfPI.js";import"./Popover-OOY3LJLk.js";import"./index-RHVwCB2K.js";import"./index-C9zM6nuj.js";import"./dialog.utils-CnFIdgQW.js";import"./usePopoverPosition-DScRzE65.js";import"./functions-DAFblV6k.js";import"./popover.module-_MiSh5dU.js";import"./VisuallyHidden-BUtF7OPd.js";import"./TextInput-IdzidpeS.js";import"./Control-DQuhXu0x.js";import"./theme.utils-BeVOnAPh.js";import"./circle-exclamation-BXEBVndQ.js";import"./info-DX6kh3Lj.js";import"./triangle-exclamation-DQjt3Dp9.js";import"./lock-C1jbjoO5.js";import"./HintIcon-DRByZ8Uu.js";import"./hint-CWBE4nNZ.js";import"./Tooltip-FXVI7MEq.js";import"./MenuList-DwIza7ud.js";import"./MonthPicker-D89dfM91.js";function c({className:e,selected:a,onSelect:k,quickFilters:j}){const m=o.useRef(null),[p,d]=o.useState(!1),[u,f]=o.useState(""),i=o.useRef(null),g=()=>d(!1),v=({from:r,to:E=r}={})=>{const D={from:r,to:E};try{Y(D)&&(k(D),f(""))}catch(q){f(q.message)}g()};return o.useEffect(()=>{var r;i&&((r=i.current)==null||r.focus())},[i]),t.jsxs("div",{className:e,children:[t.jsx(V,{children:t.jsxs($,{ref:m,onClick:()=>{p||d(r=>!r)},children:[t.jsx(z,{width:16,height:16,"aria-hidden":!0})," ",a?O(a):null]})}),u&&t.jsx(N,{role:"alert",children:u}),t.jsx(P,{open:p,triggerRef:m,onDismiss:g,children:t.jsx("div",{ref:i,children:t.jsx(T,{selected:a,onSelect:v,quickFilters:j})})})]})}function O(e){return`${l(e.from)} - ${l(e.to)}`}function l(e){return W(e,"dd/MM/yy")}function Y(e){if(!e.from&&!e.to)throw new Error("Selezionare un intervallo di date");if(!e.from)throw new Error("Selezionare la data di inizio intervallo");if(!e.to)throw new Error("Selezionare la data di fine intervallo");return!0}const $=F.button`
  border: 1px solid var(--outline);
  border-radius: var(--border-radius);
  ${I}
`;try{c.displayName="DateRangeSelectionWidget",c.__docgenInfo={description:"",displayName:"DateRangeSelectionWidget",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},selected:{defaultValue:null,description:"",name:"selected",required:!1,type:{name:"DateRange"}},onSelect:{defaultValue:null,description:"",name:"onSelect",required:!0,type:{name:"(range: DateRange) => void"}},quickFilters:{defaultValue:null,description:"",name:"quickFilters",required:!1,type:{name:"LabeledDateRange[]"}}}}}catch{}try{l.displayName="formatToDateStringShortYear",l.__docgenInfo={description:"",displayName:"formatToDateStringShortYear",props:{}}}catch{}const be={title:"Date & Time/Date Range Selection Widget",component:c},b=()=>{const[e,a]=o.useState({from:x(new Date,12),to:new Date});return t.jsx(c,{selected:e,onSelect:a})},s=b.bind({}),n=b.bind({});n.args={quickFilters:[{label:"Ultimo anno",from:x(new Date,365),to:new Date}]};var S,R,y;s.parameters={...s.parameters,docs:{...(S=s.parameters)==null?void 0:S.docs,source:{originalSource:`() => {
  const [range, setRange] = React.useState({
    from: subDays(new Date(), 12),
    to: new Date()
  });
  return <DateRangeSelectionWidget selected={range} onSelect={setRange} />;
}`,...(y=(R=s.parameters)==null?void 0:R.docs)==null?void 0:y.source}}};var h,_,w;n.parameters={...n.parameters,docs:{...(h=n.parameters)==null?void 0:h.docs,source:{originalSource:`() => {
  const [range, setRange] = React.useState({
    from: subDays(new Date(), 12),
    to: new Date()
  });
  return <DateRangeSelectionWidget selected={range} onSelect={setRange} />;
}`,...(w=(_=n.parameters)==null?void 0:_.docs)==null?void 0:w.source}}};const ke=["Default","QuickFilters"];export{s as Default,n as QuickFilters,ke as __namedExportsOrder,be as default};

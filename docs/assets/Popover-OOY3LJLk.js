import{j as f}from"./jsx-runtime-D_zvdyIk.js";import{r as i}from"./index-DatCARk7.js";import{r as p}from"./index-RHVwCB2K.js";import{d as v}from"./styled-components.browser.esm-DD6bt04G.js";import{s as d,f as m}from"./dialog.utils-CnFIdgQW.js";import{u as y}from"./usePopoverPosition-DScRzE65.js";function l({open:e,onDismiss:a,triggerRef:t,align:s,...o}){const n=i.useRef(null),r=y(n,t,void 0,e,s);return b(n,t,e,a),e?p.createPortal(f.jsx(E,{ref:n,role:"dialog",style:r,...o}),document.body):null}function b(e,a,t,s){i.useEffect(()=>{const o=r=>{if(t)switch(r.key){case"Escape":{s();break}case"Tab":{r.preventDefault(),m(e.current,!r.shiftKey);break}}},n=r=>{var u,c;t&&!((u=e.current)!=null&&u.contains(r.target))&&!((c=a.current)!=null&&c.contains(r.target))&&s()};return window.addEventListener("keydown",o),document.body.addEventListener("mousedown",n),()=>{window.removeEventListener("keydown",o),document.body.removeEventListener("mousedown",n)}},[s,t,e,a]),i.useEffect(()=>{const o=e.current;if(!o)return;d(o,t);const n=()=>{var r;(r=a.current)==null||r.focus()};return t?w(o):n(),()=>{d(o,!1),n()}},[t,e,a])}function w(e){setTimeout(()=>{m(e)},1)}const E=v.div`
  position: absolute;
  background-color: var(--background);
  color: var(--on-background);
  border-radius: var(--border-radius);
  box-shadow: var(--shadow-elevation-medium);
  padding: var(--space-3);
`;try{l.displayName="Popover",l.__docgenInfo={description:"",displayName:"Popover",props:{open:{defaultValue:null,description:"",name:"open",required:!0,type:{name:"boolean"}},triggerRef:{defaultValue:null,description:"",name:"triggerRef",required:!0,type:{name:"RefObject<HTMLElement | null>"}},onDismiss:{defaultValue:null,description:"",name:"onDismiss",required:!0,type:{name:"() => void"}},align:{defaultValue:null,description:"",name:"align",required:!1,type:{name:"enum",value:[{value:'"center"'},{value:'"left"'}]}}}}}catch{}export{l as P};
